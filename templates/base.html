<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Basic -->
    <title>{% block title %}LendifyMe ‚Äî Simple, Smart Loan Tracking & Repayment Matching{% endblock %}</title>
    <meta name="description" content="Track money you‚Äôve lent or borrowed. Auto-match repayments from your bank, share borrower portals, and stay organized with LendifyMe. Free to start.">
    <link rel="canonical" href="https://lendifyme.com/">

    <!-- Open Graph (Facebook, LinkedIn) -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://lendifyme.com/">
    <meta property="og:title" content="Track Your Loans, Effortlessly ‚Äî LendifyMe">
    <meta property="og:description" content="Track lending & borrowing, auto-match repayments, and share a borrower portal. Free to start.">
    <meta property="og:image" content="https://lendifyme.com/static/og/og-image.jpg">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Track Your Loans, Effortlessly ‚Äî LendifyMe">
    <meta name="twitter:description" content="Auto-match repayments from your bank. Lend & borrow tracking in one place.">
    <meta name="twitter:image" content="https://lendifyme.com/static/og/og-image.jpg">

    <!-- Icons -->
    <link rel="icon" href="/favicon.ico">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "LendifyMe",
    "applicationCategory": "FinanceApplication",
    "operatingSystem": "Web",
    "url": "https://lendifyme.com/",
    "description": "Track loans to friends and family, auto-match repayments, and share borrower portals.",
    "offers": { "@type": "Offer", "price": "0", "priceCurrency": "AUD" }
    }
    </script>

    <!-- Performance/Indexing niceties -->
    <meta name="robots" content="index,follow">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/app.css', v=1) }}">
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='favicon/favicon.svg') }}">
    <link rel="icon" type="image/png" sizes="96x96" href="{{ url_for('static', filename='favicon/favicon-96x96.png') }}">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='favicon/apple-touch-icon.png') }}">
    <link rel="manifest" href="{{ url_for('static', filename='favicon/site.webmanifest') }}">

    <style>
        {% block extra_css %}{% endblock %}
    </style>
</head>
<body>
    <!-- Toast notification container -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Header -->
    <div class="header">
        <div class="header-content">
            <a href="/" class="logo">LendifyMe</a>
            {% if session.user_id %}
            <div class="header-actions">
                <span class="user-email">{{ session.user_name or session.user_email }}</span>
                {% if session.is_admin %}
                <a href="/analytics" class="settings-link">üìä Analytics</a>
                <a href="/admin/users" class="settings-link">üë• Users</a>
                {% endif %}
                <a href="/settings" class="settings-link">‚öôÔ∏è Settings</a>
                <a href="/logout" class="logout-link">Logout</a>
            </div>
            {% endif %}
        </div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }}">{{ message }}</div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        {% block content %}{% endblock %}
    </div>

    <script defer src="{{ url_for('static', filename='js/app.js', v=1) }}"></script>
    <script>
        {% block extra_js %}{% endblock %}
    </script>
</body>
</html>
