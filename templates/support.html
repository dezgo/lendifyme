{% extends "base.html" %}

{% block title %}Get Support ‚Äì LendifyMe{% endblock %}

{% block extra_css %}
.back-link {
    display: inline-block;
    margin-bottom: 1rem;
    color: #007bff;
    text-decoration: none;
}
.back-link:hover {
    text-decoration: underline;
}
h1 {
    margin-bottom: 0.5rem;
}
.subtitle {
    color: #666;
    margin-bottom: 2rem;
}
.support-container {
    max-width: 800px;
    margin: 0 auto;
}
.support-card {
    background: white;
    border: 2px solid #ddd;
    border-radius: 8px;
    padding: 2rem;
    margin-bottom: 1.5rem;
}
.info-box {
    background: #e7f3ff;
    border-left: 4px solid #007bff;
    padding: 1rem;
    margin-bottom: 1.5rem;
    border-radius: 4px;
}
.info-box h3 {
    margin: 0 0 0.5rem 0;
    color: #007bff;
}
.info-box p {
    margin: 0;
    color: #333;
    line-height: 1.6;
}
.btn {
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 4px;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.2s;
    margin-right: 0.5rem;
}
.btn-primary {
    background: #007bff;
    color: white;
}
.btn-primary:hover {
    background: #0056b3;
}
.btn-success {
    background: #28a745;
    color: white;
}
.btn-success:hover {
    background: #218838;
}
.btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}
.feature-list {
    list-style: none;
    padding: 0;
}
.feature-list li {
    padding: 0.75rem 0;
    border-bottom: 1px solid #eee;
}
.feature-list li:last-child {
    border-bottom: none;
}
.feature-list li::before {
    content: "‚úì ";
    color: #28a745;
    font-weight: bold;
    margin-right: 0.5rem;
}
{% endblock %}

{% block content %}
<a href="/" class="back-link">‚Üê Back to Dashboard</a>

<div class="support-container">
    <h1>Get Live Support</h1>
    <p class="subtitle">Connect with an agent and share your screen for help</p>

    <div class="support-card">
        <div class="info-box">
            <h3>How it works</h3>
            <p>
                1. Click "Request Support" below<br>
                2. Wait for an agent to join your session<br>
                3. Click "Share My Screen" when prompted<br>
                4. Navigate around the app normally - the agent can see your screen<br>
                5. Chat with the agent using the chat widget
            </p>
        </div>

        <h3>Features</h3>
        <ul class="feature-list">
            <li><strong>Live Screen Sharing</strong> - Share your entire screen or browser window with the agent</li>
            <li><strong>Real-time Chat</strong> - Message the agent while they help you</li>
            <li><strong>Navigate Freely</strong> - Move around the app normally while sharing your screen</li>
            <li><strong>Always Available</strong> - The support overlay stays active on every page</li>
            <li><strong>Easy to End</strong> - Click "End Session" in the red banner at any time</li>
        </ul>

        <div style="margin-top: 2rem;">
            <button class="btn btn-primary" onclick="LendifyMeSupport.requestSupport()">
                üÜò Request Support
            </button>
            <button class="btn btn-success" onclick="LendifyMeSupport.shareScreen()">
                üñ•Ô∏è Share My Screen
            </button>
        </div>

        <p style="margin-top: 1.5rem; color: #666; font-size: 0.9rem;">
            <strong>Privacy:</strong> Screen sharing is completely under your control. You choose what to share and can stop at any time.
        </p>
    </div>

    <div class="support-card">
        <h3>Tips for Best Results</h3>

        <div style="background: #d4edda; border-left: 4px solid #28a745; padding: 1rem; margin-bottom: 1rem; border-radius: 4px;">
            <p style="margin: 0 0 0.5rem 0; color: #155724; font-weight: 700;">‚úÖ Recommended: Share Screen or Window</p>
            <p style="margin: 0; color: #155724;">
                Select <strong>"Entire Screen"</strong> or <strong>"Window"</strong> when prompted. When you navigate to different pages, you'll need to click the yellow "Resume Sharing" button to reconnect (one click per page - quick and easy!).
            </p>
        </div>

        <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 1rem; margin-bottom: 1rem; border-radius: 4px;">
            <p style="margin: 0 0 0.5rem 0; color: #856404; font-weight: 700;">‚ö†Ô∏è Not Recommended: Share Tab</p>
            <p style="margin: 0; color: #856404;">
                If you select <strong>"Tab"</strong>, you'll need to manually click "Resume Sharing" every time you navigate to a different page. This gets annoying fast!
            </p>
        </div>

        <p style="color: #666; margin-top: 1.5rem;">
            <strong>Look for the red "LIVE" banner</strong> at the top of your screen to know when sharing is active.
        </p>
    </div>
</div>
{% endblock %}
